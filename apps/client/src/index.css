/* Import Google Fonts - Replace next/font/google functionality */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");

/* Import editor styles (includes React Flow CSS) */
@import "@atomiton/editor/styles.css";

/* Import Tailwind v4 with config - this brings in the extended theme values */
@import "../tailwind.css";

/* Typography utilities for Atomiton design system - needed for @apply */
@layer utilities {
  .text-body-sm {
    font-size: 0.6875rem;
    line-height: 1rem;
    letter-spacing: -0.01em;
    font-weight: 500;
  }
  .text-body-md {
    font-size: 0.75rem;
    line-height: 1rem;
    letter-spacing: -0.01em;
    font-weight: 500;
  }
  .text-p-md {
    font-size: 0.9375rem;
    line-height: 1.406rem;
    letter-spacing: -0.015em;
    font-weight: 400;
  }
}

/* All CSS variables are now centralized in @atomiton/theme/css */
/* They're imported via the tailwind.css file above */

@layer base {
  button {
    @apply cursor-pointer;
  }

  /* Essential CSS Reset - Missing from Vite */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  /* Next.js default styles that Vite doesn't include */
  html,
  body {
    padding: 0;
    margin: 0;
  }

  /* Form elements normalization - very selective */
  button {
    font-family: inherit;
  }

  /* Input appearance fixes only */
  input[type="text"],
  input[type="number"] {
    -webkit-appearance: none;
  }

  input[type="number"]::-webkit-inner-spin-button,
  input[type="number"]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
}

@layer components {
  .center {
    @apply max-w-280 w-full mx-auto px-10 max-xl:px-5;
  }

  /* HeadlessUI positioning fixes */
  [data-headlessui-portal] {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9999;
    width: 100vw;
    height: 100vh;
    pointer-events: none;
  }

  [data-headlessui-portal] > * {
    pointer-events: auto;
  }

  /* Dropdown anchor positioning */
  .headlessui-dropdown {
    isolation: isolate;
  }

  /* Input label positioning fix - minimal interference */
  .relative > .absolute.pointer-events-none {
    z-index: 1;
  }
  .sidebar {
    @apply fixed top-3 bottom-3 z-10 w-64 bg-surface-01 border border-s-01 rounded-[1.25rem];
  }
  .btn-icon {
    @apply rounded-md fill-secondary transition-colors hover:bg-surface-03 hover:fill-primary;
  }
  .btn-icon svg {
    @apply fill-inherit;
  }
  .key {
    @apply px-1.5 py-0.5 bg-surface-03 rounded-md shadow-[0_0px_0px_1px_rgba(0,0,0,0.11),0px_2px_0.8px_0px_rgba(255,255,255,0.27)_inset,0px_-1px_0.6px_0px_rgba(0,0,0,0.20)_inset,0px_1px_4.2px_-1px_rgba(0,0,0,0.25)] text-secondary;
    font-size: 0.6875rem;
    line-height: 1rem;
    letter-spacing: -0.01em;
    font-weight: 500;
  }
  .social {
    @apply flex items-center justify-center w-10 h-10 border border-s-02 rounded-xl transition-colors hover:bg-surface-03;
  }
  .content {
    @apply [&_p]:mb-4 [&_p]:last:mb-0 [&_strong]:font-bold [&_ul]:mb-4 [&_ul]:flex [&_ul]:flex-col [&_ul]:gap-1 [&_ul]:last:mb-0 [&_ul>li]:pl-6 [&_ul>li]:relative [&_ul>li]:before:absolute [&_ul>li]:before:left-2 [&_ul>li]:before:top-2.25 [&_ul>li]:before:w-1.25 [&_ul>li]:before:h-1.25 [&_ul>li]:before:bg-primary [&_ul>li]:before:rounded-full;
    font-size: 0.9375rem;
    line-height: 1.406rem;
    letter-spacing: -0.015em;
    font-weight: 400;
  }
  .loop-slider--thumb:after {
    content: "";
    position: absolute;
    top: 0;
    left: 50%;
    bottom: 0;
    width: 16px;
    transform: translateX(-50%);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='12' fill='none' viewBox='0 0 16 12'%3E%3Cpath d='M1.41 6L5 2.41V5h6V2.41L14.58 6 11 9.58V7H5v2.59L1.41 6zM0 6l6 6V8h4v4l6-6-6-6v4H6V0L0 6z' fill='%23fff'/%3E%3Cpath d='M8.5 6.99h2.52v2.59l3.56-3.59-3.56-3.58v2.6H8.5 5v-2.6L1.41 5.99 5 9.58V6.99h3.5z' fill='%23000'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 50% 50%;
    background-size: 100% auto;
    opacity: 0;
    transition: opacity 0.2s;
  }
  .loop-slider--thumb:hover:after {
    opacity: 1;
  }
  .react-tooltip {
    @apply z-50 !px-2 !py-1 !rounded-lg;
    font-size: 0.6875rem !important;
    line-height: 1rem !important;
    letter-spacing: -0.01em !important;
    font-weight: 500 !important;
  }
  .swiper-explore .swiper-slide {
    @apply opacity-20 !transition-opacity duration-300;
  }
  .swiper-explore .swiper-slide.swiper-slide-active {
    @apply opacity-100;
  }
  .mySwiper .swiper-slide {
    transition: border-color 0.2s;
  }
  .mySwiper .swiper-slide.swiper-slide-thumb-active {
    border-color: var(--color-shade-06) !important;
  }
  .mySwiper2 .swiper-button-next,
  .mySwiper2 .swiper-button-prev {
    width: 2.5rem !important;
    height: 2.5rem !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath d='M6.762 4.26A.75.75 0 1 1 7.823 5.32L4.383 8.761a1.75 1.75 0 0 0-.298.397l-.046.09h12.837a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.75.75H4.04l.045.091c.052.095.114.186.184.272l.114.125 3.441 3.441a.75.75 0 0 1-1.061 1.061l-3.441-3.441a3.25 3.25 0 0 1 0-4.596L6.762 4.26z' fill='%23121212'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: center;
    background-size: 20px auto;
    border-radius: 0.625rem;
    transition: background-color 0.2s;
  }
  .mySwiper2 .swiper-button-prev {
    left: 1.25rem !important;
  }
  .mySwiper2 .swiper-button-next {
    right: 1.25rem !important;
  }
  .mySwiper2 .swiper-button-next:hover,
  .mySwiper2 .swiper-button-prev:hover {
    background-color: var(--color-surface-03);
  }
  .mySwiper2 .swiper-button-next {
    transform: rotate(180deg);
  }
  .mySwiper2 .swiper-button-next:after,
  .mySwiper2 .swiper-button-prev:after {
    display: none;
  }
  .comments {
    cursor: url("../public/images/cursor.svg"), auto;
  }
  .epr-header,
  .epr-emoji-category-label {
    @apply !hidden;
  }
  .epr-emoji-category-content {
    @apply !py-2.75;
  }
  .epr-body {
    /* Scrollbar utilities inline since @apply can't reference external classes */
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .epr-body::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }
  .range-loop .rc-slider-handle:after {
    content: "";
    position: absolute;
    top: 0;
    left: 50%;
    bottom: 0;
    width: 16px;
    transform: translateX(-50%);
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='12' fill='none' viewBox='0 0 16 12'%3E%3Cpath d='M1.41 6L5 2.41V5h6V2.41L14.58 6 11 9.58V7H5v2.59L1.41 6zM0 6l6 6V8h4v4l6-6-6-6v4H6V0L0 6z' fill='%23fff'/%3E%3Cpath d='M8.5 6.99h2.52v2.59l3.56-3.59-3.56-3.58v2.6H8.5 5v-2.6L1.41 5.99 5 9.58V6.99h3.5z' fill='%23000'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 50% 50%;
    background-size: 100% auto;
    opacity: 0;
    transition: opacity 0.2s;
  }
  .range-loop .rc-slider-handle:hover:after {
    opacity: 1;
  }
  .range-slider::-webkit-slider-thumb {
    appearance: none;
    height: 36px;
    width: 24px;
    border-radius: 6px;
    background: var(--shade-02);
    cursor: pointer;
    box-shadow:
      0 -1px 4px -2px rgba(0, 0, 0, 0.2) inset,
      0px 0px 2.6px -1px rgba(0, 0, 0, 0.17),
      0px 1px 4px 0px rgba(0, 0, 0, 0.14);
    border: none;
    outline: none;
  }

  .range-slider::-moz-range-thumb {
    height: 36px;
    width: 24px;
    border-radius: 6px;
    background: var(--shade-02);
    cursor: pointer;
    box-shadow:
      0 -1px 4px -2px rgba(0, 0, 0, 0.2) inset,
      0px 0px 2.6px -1px rgba(0, 0, 0, 0.17),
      0px 1px 4px 0px rgba(0, 0, 0, 0.14);
    border: none;
    outline: none;
  }

  .range-slider::-webkit-slider-track {
    height: 36px;
    border-radius: 8px;
    background: transparent;
  }

  .range-slider::-moz-range-track {
    height: 36px;
    border-radius: 8px;
    background: transparent;
    border: none;
  }
}
