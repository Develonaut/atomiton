import { useState } from "react";

type Props = {
  item: {
    id: number;
    title: string;
    type: string;
  };
  selected: number;
  onClick: () => void;
};

function Item({ item, selected, onClick }: Props) {
  const [lock, setLock] = useState(false);
  const [view, setView] = useState(false);
  const [sparkle, setSparkle] = useState(false);

  const actions = [
    {
      icon: "M10 1.5c2.187 0 4.046 1.543 4.424 3.631.091.501-.25.98-.762 1.068a.94.94 0 0 1-1.09-.747c-.219-1.212-1.3-2.11-2.572-2.11-1.443 0-2.612 1.146-2.612 2.56v1.33l7 .001c1.38 0 2.51 1.049 2.605 2.377l.007.183v6.145c0 1.414-1.169 2.56-2.612 2.56H5.612C4.169 18.5 3 17.354 3 15.94V9.795c0-1.414 1.169-2.56 2.612-2.56l-.104.003V5.904c0-2.354 1.884-4.276 4.254-4.398L10 1.5zm4.388 7.578H5.612c-.404 0-.731.321-.731.717v6.145c0 .396.327.717.731.717h8.776c.404 0 .731-.321.731-.717V9.795c0-.396-.327-.717-.731-.717zM10 10.717c.519 0 .94.413.94.922v2.458c0 .509-.421.922-.94.922s-.94-.413-.94-.922v-2.458c0-.509.421-.922.94-.922z",
      iconActive:
        "M10 1.5c2.481 0 4.493 1.996 4.493 4.457L14.492 7.1l.083.004c1.294.091 2.328 1.116 2.419 2.4l.007.185v6.219c0 1.431-1.169 2.592-2.612 2.592H5.612C4.169 18.5 3 17.34 3 15.908V9.689c0-1.431 1.169-2.591 2.612-2.591l-.104.002V5.957c0-2.382 1.884-4.328 4.254-4.451L10 1.5zm4.388 7.463H5.612a.73.73 0 0 0-.731.726v6.219a.73.73 0 0 0 .731.726h8.776a.73.73 0 0 0 .731-.726V9.689a.73.73 0 0 0-.731-.726zM10 10.622c.519 0 .94.418.94.933v2.488c0 .515-.421.933-.94.933s-.94-.418-.94-.933v-2.488c0-.515.421-.933.94-.933zm0-7.256c-1.443 0-2.612 1.16-2.612 2.591v1.139h5.223l.001-1.139a2.6 2.6 0 0 0-2.425-2.585L10 3.366z",
      active: lock,
      onClick: () => setLock(!lock),
    },
    {
      icon: "M2.123 9.263l-.808-.466h0l.808.466zm15.754 0l.808-.466h0l-.808.466zM2.123 10.736l-.808.466h0l.808-.466zm15.754 0l.808.466h0l-.808-.466zM2.123 9.263l.808.466C4.802 6.409 7.463 4.881 10 4.881s5.198 1.529 7.069 4.848l.808-.466.808-.466C16.556 5.02 13.34 3 10 3S3.444 5.02 1.315 8.798l.808.466zm0 1.473l-.808.466C3.444 14.98 6.66 17 10 17s6.556-2.02 8.685-5.798l-.808-.466-.808-.466c-1.871 3.32-4.532 4.848-7.069 4.848s-5.198-1.529-7.069-4.848l-.808.466zm0-1.473l-.808-.466a2.45 2.45 0 0 0 0 2.404l.808-.466.808-.466a.55.55 0 0 1 0-.542l-.808-.466zm15.754 0l-.808.466a.55.55 0 0 1 0 .542l.808.466.808.466a2.45 2.45 0 0 0 0-2.404l-.808.466zM12.686 10h-.93c0 .981-.786 1.776-1.756 1.776v.94.94c1.997 0 3.616-1.637 3.616-3.657h-.93zM10 12.716v-.94c-.97 0-1.756-.795-1.756-1.776h-.93-.93c0 2.02 1.619 3.657 3.616 3.657v-.94zM7.314 10h.93c0-.981.786-1.776 1.756-1.776v-.94-.94C8.003 6.343 6.384 7.98 6.384 10h.93zM10 7.284v.94c.97 0 1.756.795 1.756 1.776h.93.93c0-2.02-1.619-3.657-3.616-3.657v.94z",
      iconActive:
        "M16.459 6.48a.75.75 0 1 1 1.081 1.04c-1.052 1.094-2.221 1.925-3.451 2.491l-.082.036 1.055 1.463a.75.75 0 0 1-.085.976l-.085.071a.75.75 0 0 1-1.047-.17l-1.306-1.811-.059.018c-.545.146-1.096.243-1.649.291l-.081.005V13a.75.75 0 0 1-.648.743L10 13.75a.75.75 0 0 1-.75-.75v-2.111l-.081-.005c-.553-.049-1.105-.146-1.649-.291l-.217-.062-1.118 1.811a.75.75 0 0 1-.942.291l-.09-.048a.75.75 0 0 1-.244-1.032l.965-1.562-.224-.107C4.601 9.368 3.603 8.656 2.687 7.75l-.227-.23a.75.75 0 1 1 1.081-1.04c3.769 3.92 9.149 3.92 12.919 0z",
      active: view,
      onClick: () => setView(!view),
    },
    {
      icon: "M9.078 2.422c0-1.229 1.843-1.229 1.843 0 0 4.754 1.903 6.657 6.657 6.657 1.229 0 1.229 1.843 0 1.843-4.754 0-6.657 1.903-6.657 6.657 0 1.229-1.843 1.229-1.843 0 0-4.754-1.903-6.657-6.657-6.657-1.229 0-1.229-1.843 0-1.843 4.754 0 6.657-1.903 6.657-6.657zm.921 4.767l-.076.155c-.591 1.132-1.448 1.989-2.58 2.58l-.155.076.155.077c1.132.591 1.989 1.448 2.58 2.58l.076.153.077-.153c.591-1.132 1.448-1.989 2.58-2.58l.153-.077-.153-.076c-1.132-.591-1.989-1.448-2.58-2.58l-.077-.155z",
      iconActive:
        "M9.078 2.422c0-1.229 1.843-1.229 1.843 0 0 4.754 1.903 6.657 6.657 6.657 1.229 0 1.229 1.843 0 1.843-4.754 0-6.657 1.903-6.657 6.657 0 1.229-1.843 1.229-1.843 0 0-4.754-1.903-6.657-6.657-6.657-1.229 0-1.229-1.843 0-1.843 4.754 0 6.657-1.903 6.657-6.657zm.921 4.767l-.076.155c-.591 1.132-1.448 1.989-2.58 2.58l-.155.076.155.077c1.132.591 1.989 1.448 2.58 2.58l.076.153.077-.153c.591-1.132 1.448-1.989 2.58-2.58l.153-.077-.153-.076c-1.132-.591-1.989-1.448-2.58-2.58l-.077-.155z",
      active: sparkle,
      onClick: () => setSparkle(!sparkle),
    },
  ];

  return (
    <div className="group/item relative" key={item.id}>
      <button
        className={`group/button flex items-center gap-3 w-full p-0.75 border rounded-xl transition-colors cursor-pointer group-hover/item:bg-[#f1f1f1] group-hover/item:pr-24 ${
          selected === item.id
            ? "bg-[#f1f1f1] border-[#e2e2e2]"
            : "border-transparent"
        } ${lock ? "pr-24" : ""} ${view ? "pr-16" : ""} ${
          sparkle ? "pr-10" : ""
        }`}
        onClick={onClick}
      >
        <div
          className={`flex justify-center items-center shrink-0 size-8 rounded-lg transition-all group-hover/item:bg-[#fcfcfc] ${
            selected === item.id
              ? "bg-[#fcfcfc] shadow-[0_0px_4px_0px_rgba(18,18,18,0.10)]"
              : "bg-[#f1f1f1]"
          }`}
        >
          <svg className="size-4" width={20} height={20} viewBox="0 0 20 20">
            <path
              d={
                item.type === "camera"
                  ? "M2.96 12.453a.96.96 0 0 1 .96.96v1.92c0 .412.334.747.747.747h1.92a.96.96 0 1 1 0 1.92h-1.92C3.194 18 2 16.806 2 15.333v-1.92a.96.96 0 0 1 .96-.96zm14.08 0a.96.96 0 0 1 .96.96v1.92C18 16.806 16.806 18 15.333 18h-1.92a.96.96 0 1 1 0-1.92h1.92c.412 0 .747-.334.747-.747v-1.92a.96.96 0 0 1 .96-.96zM10 6.267c2.062 0 3.733 1.671 3.733 3.733S12.062 13.733 10 13.733 6.267 12.062 6.267 10 7.938 6.267 10 6.267zm0 1.92c-1.001 0-1.813.812-1.813 1.813s.812 1.813 1.813 1.813 1.813-.812 1.813-1.813S11.001 8.187 10 8.187zM6.587 2a.96.96 0 1 1 0 1.92h-1.92c-.412 0-.747.334-.747.747v1.92a.96.96 0 1 1-1.92 0v-1.92C2 3.194 3.194 2 4.667 2h1.92zm8.747 0C16.806 2 18 3.194 18 4.667v1.92a.96.96 0 1 1-1.92 0v-1.92c0-.412-.334-.747-.747-.747h-1.92a.96.96 0 1 1 0-1.92h1.92z"
                  : item.type === "dome-light"
                    ? "M10 16.344a.94.94 0 0 1 .941.941v1.274a.94.94 0 0 1-1.882 0v-1.274a.94.94 0 0 1 .941-.941zm-5.817-1.858a.94.94 0 1 1 1.331 1.331l-.901.901a.94.94 0 1 1-1.331-1.331l.901-.901zm10.302 0a.94.94 0 0 1 1.331 0l.901.901a.94.94 0 1 1-1.331 1.331l-.901-.901a.94.94 0 0 1 0-1.331zM6.229 6.229c2.082-2.082 5.459-2.082 7.541 0s2.082 5.459 0 7.541-5.459 2.083-7.541 0-2.082-5.459 0-7.541zM7.56 7.56a3.45 3.45 0 1 0 4.88 4.879A3.45 3.45 0 1 0 7.56 7.56zm10.999 1.499a.94.94 0 1 1 0 1.882h-1.274a.94.94 0 1 1 0-1.882h1.274zm-15.844 0a.94.94 0 1 1 0 1.882H1.441a.94.94 0 1 1 0-1.882h1.274zm12.671-5.776a.94.94 0 1 1 1.331 1.331l-.901.901a.94.94 0 1 1-1.331-1.331l.901-.901zm-12.104 0a.94.94 0 0 1 1.331 0l.901.901a.94.94 0 1 1-1.331 1.331l-.901-.901a.94.94 0 0 1 0-1.331zM10 .5a.94.94 0 0 1 .941.941v1.274a.94.94 0 0 1-1.882 0V1.441A.94.94 0 0 1 10 .5z"
                    : item.type === "key-light"
                      ? "M10 1c3.866 0 7 3.103 7 6.932 0 2.18-1.024 4.194-2.736 5.497-.194.148-.396.286-.605.413l-.002 1.433v.104c0 1.929-1.523 3.505-3.442 3.615L10 19c-2.02 0-3.657-1.621-3.657-3.622l-.001-1.538-.31-.198-.297-.214C4.024 12.126 3 10.112 3 7.932 3 4.103 6.134 1 10 1zm1.776 14.275H8.222l.001.104c0 .915.705 1.666 1.606 1.751l.171.008c.981 0 1.777-.788 1.777-1.76v-.104zm.045-1.862l.046-.16c.138-.411.425-.765.807-.997a5.14 5.14 0 0 0 .443-.302 5.04 5.04 0 0 0 2.002-4.021c0-2.8-2.292-5.07-5.12-5.07s-5.12 2.27-5.12 5.07a5.04 5.04 0 0 0 2.002 4.021c.142.108.29.209.443.302.383.233.67.587.808.997l.044.16.047.001 3.598-.001z"
                      : item.type === "area-light"
                        ? "M4.203 18c-1.602 0-2.667-1.687-2.001-3.171l.574-1.28c.358-.798 1.14-1.309 2.001-1.309h5.222 5.224c.795 0 1.523.436 1.911 1.13l.09.179.574 1.28c.666 1.483-.399 3.171-2.001 3.171H10 4.203zm4.853-1.92v-1.92H4.777c-.098 0-.19.047-.248.124l-.038.063-.574 1.28a.32.32 0 0 0 .286.453h4.853zm1.886 0h4.855a.32.32 0 0 0 .286-.453l-.574-1.28c-.051-.114-.163-.187-.286-.187h-4.28v1.92zM10 7.12c.521 0 .943.43.943.96v1.28c0 .53-.422.96-.943.96s-.943-.43-.943-.96V8.08c0-.53.422-.96.943-.96zM5.561 5.908a.93.93 0 0 1 1.334 0c.368.375.368.983 0 1.358l-.838.853a.93.93 0 0 1-1.334 0c-.368-.375-.368-.983 0-1.358l.838-.853zm7.544 0a.93.93 0 0 1 1.334 0l.838.853c.368.375.368.983 0 1.358a.93.93 0 0 1-1.334 0l-.838-.853c-.368-.375-.368-.983 0-1.358zM11.734 2.74c.12-.516.628-.835 1.135-.714a.96.96 0 0 1 .701 1.155C13.181 4.853 11.71 6.053 10 6.053s-3.181-1.2-3.569-2.873a.96.96 0 0 1 .701-1.155c.507-.122 1.015.198 1.135.714A1.79 1.79 0 0 0 10 4.134a1.79 1.79 0 0 0 1.734-1.394zM16.915 2c.521 0 .943.43.943.96s-.422.96-.943.96h-1.257c-.521 0-.943-.43-.943-.96s.422-.96.943-.96h1.257zM4.342 2c.521 0 .943.43.943.96s-.422.96-.943.96H3.084c-.521 0-.943-.43-.943-.96S2.564 2 3.084 2h1.257z"
                        : "M8.693 1.837a2.7 2.7 0 0 1 2.615 0l5.333 2.955A2.62 2.62 0 0 1 18 7.082v5.836a2.62 2.62 0 0 1-1.359 2.29l-5.333 2.955a2.7 2.7 0 0 1-2.615 0l-5.333-2.955A2.62 2.62 0 0 1 2 12.918V7.082a2.62 2.62 0 0 1 1.359-2.29l5.333-2.955zM3.92 7.714v5.204c0 .266.145.511.381.641l4.739 2.626v-5.633L3.92 7.714zm12.16 0l-5.12 2.838v5.631l4.739-2.625c.202-.112.337-.308.372-.529l.009-.112V7.714zm-5.714-4.228c-.227-.126-.505-.126-.732 0L4.917 6.099 10 8.914l5.082-2.816-4.716-2.613z"
              }
            />
          </svg>
        </div>
        <span className="truncate text-left text-[0.75rem] font-medium text-[#121212]">
          {item.title}
        </span>
      </button>
      <div className="absolute top-1/2 right-3 -translate-y-1/2 flex gap-3">
        {actions.map((action, index) => (
          <button
            className={`group transition-opacity cursor-pointer group-hover/item:opacity-100 ${
              action.active ? "opacity-100" : "opacity-0"
            }`}
            onClick={action.onClick}
            key={index}
          >
            <svg
              className={`size-4 transition-colors group-hover:fill-[#121212] ${
                action.active ? "fill-[#121212]" : "fill-[#7b7b7b]"
              }`}
              width={20}
              height={20}
              viewBox="0 0 20 20"
            >
              <path d={action.active ? action.iconActive : action.icon} />
            </svg>
          </button>
        ))}
      </div>
    </div>
  );
}

export default Item;
