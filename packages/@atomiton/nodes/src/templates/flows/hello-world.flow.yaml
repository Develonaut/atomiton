id: "550e8400-e29b-41d4-a716-446655440001"
name: "Hello World Flow"
description: "Simple flow that creates data and writes it to a file"
type: "group"
version: "1.0.0"

metadata:
  author: "Atomiton Team"
  category: "example"
  tags: ["example", "beginner", "hello-world"]
  icon: "smile"

nodes:
  - id: "create-message"
    type: "edit-fields"
    name: "Create Message"
    version: "1.0.0"
    metadata:
      id: "edit-fields"
      name: "Edit Fields"
      author: "Atomiton Core Team"
      description: "Edit existing fields or create new data fields"
      category: "data"
      icon: "pencil-line"
    inputPorts:
      - id: "input"
        name: "Input"
        type: "input"
        dataType: "any"
        required: false
    outputPorts:
      - id: "output"
        name: "Output"
        type: "output"
        dataType: "any"
    parameters:
      values:
        message: "Hello World from Atomiton!"
        description:
          "This is a simple example showing how Flow nodes work together."
        timestamp: "{{$now}}"
        author: "Atomiton Flow System"
      keepOnlySet: true
    position:
      x: 100
      y: 200

  - id: "format-content"
    type: "transform"
    name: "Format Content"
    version: "1.0.0"
    metadata:
      id: "transform"
      name: "Transform"
      author: "Atomiton Core Team"
      description: "Transform data using JavaScript expressions"
      category: "data"
      icon: "wand-2"
    inputPorts:
      - id: "input"
        name: "Input"
        type: "input"
        dataType: "any"
        required: true
    outputPorts:
      - id: "output"
        name: "Output"
        type: "output"
        dataType: "any"
    parameters:
      operation: "map"
      transformFunction: |
        item => {
          return `${item.message}

        ${item.description}

        Created by: ${item.author}
        Generated at: ${item.timestamp}`;
        }
    position:
      x: 300
      y: 200

  - id: "write-to-file"
    type: "file-system"
    name: "Write To File"
    version: "1.0.0"
    metadata:
      id: "file-system"
      name: "File System"
      author: "Atomiton Core Team"
      description: "Read and write files to the file system"
      category: "io"
      icon: "folder"
    inputPorts:
      - id: "input"
        name: "Input"
        type: "input"
        dataType: "any"
        required: true
    outputPorts:
      - id: "output"
        name: "Output"
        type: "output"
        dataType: "any"
    parameters:
      operation: "write"
      path: ".tmp/hello-world-output.txt"
      content: "{{$input}}"
      encoding: "utf8"
      createDirectories: true
      overwrite: true
    position:
      x: 500
      y: 200

edges:
  - id: "edge-1"
    source: "create-message"
    target: "format-content"
    sourceHandle: "output"
    targetHandle: "input"
  - id: "edge-2"
    source: "format-content"
    target: "write-to-file"
    sourceHandle: "output"
    targetHandle: "input"
