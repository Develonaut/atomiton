#!/bin/sh

# Husky pre-push hook - Run smoke tests before pushing

echo "ğŸ”¥ Running smoke tests before push..."

# Run Playwright smoke tests (fast, no snapshots)
pnpm pnpm test:e2e:smoke --reporter=dot

if [ $? -ne 0 ]; then
  echo "âŒ Smoke tests failed! Fix critical issues before pushing."
  exit 1
fi

echo "âœ… All smoke tests passed! Pushing..."